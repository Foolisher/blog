---
title: 限流
p: guava/限流
date: 2019-01-11 18:24:11
tags:
---

## 一、原理

> 每秒内能请求次数限制，对速率进行控制，根据qps设定速率，如5qps，那么每次请求间隔不得大于设定的间隔，否则等待到下一次可获得令牌时间
>
> guava的实现原理是对时间片分片，结合stopwatch计算请求间隔决定是否休眠请求
>
> RateLimit是滑动窗口的变种，保障均衡速率





## 二、限流的种类

### 1. 固定窗口



### 2. 滑动窗口



### 3. 漏斗



### 4. 令牌桶